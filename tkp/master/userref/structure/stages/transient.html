<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Variability and new-source detection &mdash; LOFAR Transients Pipeline 2.0-pre documentation</title>
    
    <link rel="stylesheet" href="../../../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.0-pre',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../../_static/lofar.ico"/>
    <link rel="top" title="LOFAR Transients Pipeline 2.0-pre documentation" href="../../../index.html" />
    <link rel="up" title="Pipeline Design" href="../index.html" />
    <link rel="next" title="Developer’s Reference Guide" href="../../../devref/index.html" />
    <link rel="prev" title="Forced source-fitting" href="forcedfits.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../../devref/index.html" title="Developer’s Reference Guide"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="forcedfits.html" title="Forced source-fitting"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">LOFAR Transients Pipeline 2.0-pre documentation</a> &raquo;</li>
          <li><a href="../../index.html" >User&#8217;s Reference Guide</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Pipeline Design</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="variability-and-new-source-detection">
<span id="stage-transient"></span><h1>Variability and new-source detection<a class="headerlink" href="#variability-and-new-source-detection" title="Permalink to this headline">¶</a></h1>
<div class="section" id="variability-index-calculation">
<h2>Variability index calculation<a class="headerlink" href="#variability-index-calculation" title="Permalink to this headline">¶</a></h2>
<p>After all images for a given timestep have been processed and the resulting
source measurements have been assigned to <a class="reference internal" href="../../../devref/database/schema.html#schema-runningcatalog"><em>runningcatalog</em></a> entries (effectively lightcurves), variability
indices are calculated for the most recent timestep, and stored as part of the
association recorded in the <a class="reference internal" href="../../../devref/database/schema.html#schema-assocxtrsource"><em>assocxtrsource</em></a> table.</p>
<p>Note that a single runningcatalog source may
contain entries from multiple independent frequency bands. The
variability indices are calculated independently for each frequency band,
hence the <span class="math">\(\nu\)</span> suffix in the calculations below denotes an index over
the different bands.</p>
<p>For a comprehensive discussion of the transient and variability detection
algorithms currently being employed, see <a class="reference internal" href="../../../bibliography.html#scheers-2011"><em>Scheers (2011)</em></a>
chapter 3. Here, we provide a brief outline.</p>
<p>We define two metrics for identifying variability in a lightcurve.
The flux <a class="reference external" href="http://en.wikipedia.org/wiki/Coefficient_of_variation">coefficient of variation</a>, which we
denote <span class="math">\(V_\nu\)</span>, is defined as</p>
<div class="math">
\[V_{\nu} \equiv \frac{s_{\nu}}{\overline{I_{\nu}}}
        = \frac{1}{\overline{I_{\nu}}} \sqrt{\frac{N}{N-1}(\overline{I^{2}_\nu} - \overline{I_{\nu}}^2)}\]</div>
<p>where <span class="math">\(\overline{I_{\nu}}\)</span> is the mean flux of all measurements in the
lightcurve at frequency <span class="math">\(\nu\)</span>, <span class="math">\(s_{\nu}\)</span> is the standard deviation
of those flux measurements and <span class="math">\(N\)</span> is the number of measurements.</p>
<p>The second metric is <span class="math">\(\eta_{\nu}\)</span>, which is defined based on reduced
<span class="math">\(\chi^2\)</span> statistics as</p>
<div class="math">
\[\eta_{\nu} \equiv \chi^{2}_{N-1}
           = \frac{1}{N-1} \sum_{i=1}^{N} \frac{(I_{\nu,i} - \overline{I_{\nu}}^*)^2}{\sigma_{I_{\nu,i}}^2}\]</div>
<p>Where <span class="math">\(\overline{I_{\nu}}^*\)</span> is the average of the flux measurements
weighed by their uncertainties. <span class="math">\(\eta_{\nu}\)</span> is the <span class="math">\(\chi^{2}\)</span>
probability distribution. The probability that the source is &#8220;flat&#8221; (i.e. has
no significant variability) is then the integral of the distribution from the
measured value of <span class="math">\(\eta_{\nu}\)</span> to <span class="math">\(\infty\)</span>; the probability that
it <em>isn&#8217;t</em> flat is thus 1 minus this quantity.</p>
<p>See also the <a class="reference internal" href="../../../devref/database/schema.html#schema-appendices"><em>appendices on the database schema</em></a>
for details of how these are iteratively updated.</p>
</div>
<div class="section" id="new-source-detection">
<h2>&#8216;New source&#8217; detection<a class="headerlink" href="#new-source-detection" title="Permalink to this headline">¶</a></h2>
<p>We also attempt to identify any newly extracted sources which we suspect
are intrinsically variable in nature (i.e. they are getting brighter, as
opposed to our observations getting deeper or even simply looking at a
previously unobserved patch of sky). The algorithm for evaluating new
sources is encoded by
<a class="reference internal" href="../../../devref/tkp/database/association.html#tkp.db.associations._determine_newsource_previous_limits" title="tkp.db.associations._determine_newsource_previous_limits"><tt class="xref py py-func docutils literal"><span class="pre">tkp.db.associations._determine_newsource_previous_limits()</span></tt></a>.
Sources we deem to be intrinsically &#8216;new&#8217; are then recorded in the
<a class="reference internal" href="../../../devref/database/schema.html#schema-newsource"><em>newsource</em></a> table.</p>
<div class="section" id="section-transient-search">
<h3>Section <tt class="docutils literal"><span class="pre">transient_search</span></tt><a class="headerlink" href="#section-transient-search" title="Permalink to this headline">¶</a></h3>
<p>The following parameters may be configured in the <a class="reference internal" href="../../config/job_params_cfg.html#job-params-cfg"><em>job configuration file</em></a>:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">new_source_sigma_margin</span></tt></dt>
<dd>Float. A newly detected source is considered transient if it is
significantly above the best (lowest) previous detection limit for that
point on-sky. &#8216;Significantly above&#8217; is defined by a &#8216;margin of error,&#8217;
intended to screen out steady sources that just happen to be fluctuating
around the detection threshold due to measurement noise.
This value sets that margin as a multiple of the RMS of the previous-best
image.</dd>
</dl>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/lofar.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Variability and new-source detection</a><ul>
<li><a class="reference internal" href="#variability-index-calculation">Variability index calculation</a></li>
<li><a class="reference internal" href="#new-source-detection">&#8216;New source&#8217; detection</a><ul>
<li><a class="reference internal" href="#section-transient-search">Section <tt class="docutils literal"><span class="pre">transient_search</span></tt></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="forcedfits.html"
                        title="previous chapter">Forced source-fitting</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../../devref/index.html"
                        title="next chapter">Developer&#8217;s Reference Guide</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/userref/structure/stages/transient.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../../devref/index.html" title="Developer’s Reference Guide"
             >next</a> |</li>
        <li class="right" >
          <a href="forcedfits.html" title="Forced source-fitting"
             >previous</a> |</li>
        <li><a href="../../../index.html">LOFAR Transients Pipeline 2.0-pre documentation</a> &raquo;</li>
          <li><a href="../../index.html" >User&#8217;s Reference Guide</a> &raquo;</li>
          <li><a href="../index.html" >Pipeline Design</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006—2014, LOFAR Transients Key Science Project.
    </div>
  </body>
</html>