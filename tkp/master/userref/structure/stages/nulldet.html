<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Null detection handling &mdash; LOFAR Transients Pipeline 2.0-pre documentation</title>
    
    <link rel="stylesheet" href="../../../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.0-pre',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../../_static/lofar.ico"/>
    <link rel="top" title="LOFAR Transients Pipeline 2.0-pre documentation" href="../../../index.html" />
    <link rel="up" title="Pipeline Design" href="../index.html" />
    <link rel="next" title="Transient detection" href="transient.html" />
    <link rel="prev" title="Source association" href="association.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="transient.html" title="Transient detection"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="association.html" title="Source association"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">LOFAR Transients Pipeline 2.0-pre documentation</a> &raquo;</li>
          <li><a href="../../index.html" >User&#8217;s Reference Guide</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Pipeline Design</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="null-detection-handling">
<span id="stage-nulldet"></span><h1>Null detection handling<a class="headerlink" href="#null-detection-handling" title="Permalink to this headline">¶</a></h1>
<p>A &#8220;null detection&#8221; is the term used to describe a source which was expected to
be measured in a particular image (because it has been observed in previous
images covering the same field of view) but was in fact not detected by the
<a class="reference internal" href="extraction.html#stage-extraction"><em>blind extraction</em></a> step.</p>
<p>After the blindly-extracted source measurements have been stored to the
database and have been associated with the known sources in the running
catalogue, the null detection stage starts.
We retrieve from the database a list of sources that serve as the null detections.
Sources on this list come from the running catalog and</p>
<ul class="simple">
<li>Do not have a counterpart in the extractedsources of the current
image after source association has run.</li>
<li>Have been seen (in any band) at a timestamp earlier than that of the
current image.</li>
</ul>
<p>We determine null detections only as those sources which have been
seen at earlier times which don&#8217;t appear in the current image.
Sources which have not been seen earlier, and which appear in
different bands at the current timestep, are <em>not</em> null detections,
but are considered as &#8220;new&#8221; sources.</p>
<p>For all sources identified as null detections, we measure fluxes by performing
a forced elliptical Gaussian fit to the expected source position on the image.
The procedure followed is similar to that used for <a class="reference internal" href="extraction.html#stage-extraction"><em>blind extraction</em></a>, but rather than allowing the pixel position of the
barycentre to vary freely, it is held to the known source position. No
deblending is performed.</p>
<p>The results of these &#8220;forced&#8221; source measurements are marked as such and
appended to the database.</p>
<p>After being added to the database, the forced fits are matched back to their
running catalog counterparts in order to append it as a datapoint in the light curve.
This matching is does not include the De Ruiter radius, since the source position came
from the running catalog.
It is sufficient to use the weighted positional error as a cone search, since the positions are identical.
Therefore the forced fit position is not included as
an extra datapoint in the position of the running catalog.
The fluxes, however, are included into the statistical properties and the values are updated.</p>
<p>It is worth emphasizing that the above procedure guarantees that
every known source will have either a blind detection or a forced-fit
measurement in every image from the moment it was detected for the
first time.</p>
<p>The following parameters may be configured in the <a class="reference internal" href="../../config/job_params_cfg.html#job-params-cfg"><em>job configuration file</em></a>:</p>
<div class="section" id="section-source-extraction">
<h2>Section <tt class="docutils literal"><span class="pre">source_extraction</span></tt><a class="headerlink" href="#section-source-extraction" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">back_size_x</span></tt>, <tt class="docutils literal"><span class="pre">back_size_y</span></tt>, <tt class="docutils literal"><span class="pre">margin</span></tt>, <tt class="docutils literal"><span class="pre">extraction_radius_pix</span></tt>, <tt class="docutils literal"><span class="pre">max_degredation</span></tt>, <tt class="docutils literal"><span class="pre">force_beam</span></tt></dt>
<dd>Defined as for <a class="reference internal" href="extraction.html#stage-extraction"><em>blind extraction</em></a>.</dd>
<dt><tt class="docutils literal"><span class="pre">box_in_beampix</span></tt></dt>
<dd>When a forced fit is being applied to a particular point on the image, it
is unnecessary and inefficient to include all of the image pixel data in
the minimization procedure. Instead, we only include that within a square
region of size <tt class="docutils literal"><span class="pre">box_in_beampix</span></tt> about the target position.
<tt class="docutils literal"><span class="pre">box_in_beampix</span></tt> is specified in units of the size of the major axis of
the restoring beam.</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/lofar.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Null detection handling</a><ul>
<li><a class="reference internal" href="#section-source-extraction">Section <tt class="docutils literal"><span class="pre">source_extraction</span></tt></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="association.html"
                        title="previous chapter">Source association</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="transient.html"
                        title="next chapter">Transient detection</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/userref/structure/stages/nulldet.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="transient.html" title="Transient detection"
             >next</a> |</li>
        <li class="right" >
          <a href="association.html" title="Source association"
             >previous</a> |</li>
        <li><a href="../../../index.html">LOFAR Transients Pipeline 2.0-pre documentation</a> &raquo;</li>
          <li><a href="../../index.html" >User&#8217;s Reference Guide</a> &raquo;</li>
          <li><a href="../index.html" >Pipeline Design</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006—2014, LOFAR Transients Key Science Project.
    </div>
  </body>
</html>