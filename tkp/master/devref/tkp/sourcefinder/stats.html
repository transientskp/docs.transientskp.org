<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>tkp.sourcefinder.stats – Statistics specific to source finding for radio images. &mdash; LOFAR Transients Pipeline 2.0-pre documentation</title>
    
    <link rel="stylesheet" href="../../../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.0-pre',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../../_static/lofar.ico"/>
    <link rel="top" title="LOFAR Transients Pipeline 2.0-pre documentation" href="../../../index.html" />
    <link rel="up" title="Sourcefinder package" href="index.html" />
    <link rel="next" title="tkp.sourcefinder.utils – Utility routines" href="utils.html" />
    <link rel="prev" title="tkp.sourcefinder.fitting – Source fitting routines" href="fitting.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utils.html" title="tkp.sourcefinder.utils – Utility routines"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="fitting.html" title="tkp.sourcefinder.fitting – Source fitting routines"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">LOFAR Transients Pipeline 2.0-pre documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Developer&#8217;s Reference Guide</a> &raquo;</li>
          <li><a href="../index.html" >TKP Package Reference</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Sourcefinder package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-tkp.sourcefinder.stats">
<span id="tkp-sourcefinder-stats-statistics-specific-to-source-finding-for-radio-images"></span><span id="sourcefinder-stats"></span><h1><a class="reference internal" href="#module-tkp.sourcefinder.stats" title="tkp.sourcefinder.stats: Statistics routines specific to radio image source finding"><tt class="xref py py-mod docutils literal"><span class="pre">tkp.sourcefinder.stats</span></tt></a> &#8211; Statistics specific to source finding for radio images.<a class="headerlink" href="#module-tkp.sourcefinder.stats" title="Permalink to this headline">¶</a></h1>
<p>Generic utility routines for number handling and calculating (specific)
variances used by the TKP sourcefinder.</p>
<dl class="function">
<dt id="tkp.sourcefinder.stats.sigma_clip">
<tt class="descclassname">tkp.sourcefinder.stats.</tt><tt class="descname">sigma_clip</tt><big>(</big><em>data</em>, <em>beam</em>, <em>sigma=&lt;function unbiased_sigma at 0x2b6426a201b8&gt;</em>, <em>max_iter=100</em>, <em>centref=&lt;function median at 0x2b6419759a28&gt;</em>, <em>distf=&lt;function var at 0x2b6418fef5f0&gt;</em>, <em>my_iterations=0</em>, <em>corr_clip=1.0</em><big>)</big><a class="reference internal" href="../../../_modules/tkp/sourcefinder/stats.html#sigma_clip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tkp.sourcefinder.stats.sigma_clip" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterative clipping</p>
<p>By default, this performs clipping of the standard deviation about the
median of the data. But by tweaking centref/distf, it could be much
more general.</p>
<p>max_iter sets the maximum number of iterations used.</p>
<p>my_iterations is a counter for recursive operation of the code; leave it
alone unless you really want to pretend to jump into the middle of a loop.</p>
<p>sigma is subtle: if a callable is given, it is passed a copy of the data
array and can calculate a clipping limit. See, for e.g., unbiased_sigma()
defined above. However, if it isn&#8217;t callable, sigma is assumed to just set
a hard limit.</p>
<dl class="docutils">
<dt>To do: Improve documentation</dt>
<dd>-Returns???
-How does it make use of the beam? (It estimates the noise correlation)</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tkp.sourcefinder.stats.unbiased_sigma">
<tt class="descclassname">tkp.sourcefinder.stats.</tt><tt class="descname">unbiased_sigma</tt><big>(</big><em>N_indep</em><big>)</big><a class="reference internal" href="../../../_modules/tkp/sourcefinder/stats.html#unbiased_sigma"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tkp.sourcefinder.stats.unbiased_sigma" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate an unbiased sigma for using in sigma clipping.</p>
<p>The formula below for cliplim is pretty subtle. Kappa, sigma
clipping should be such that the noise is not biased by
it. Consequently, the clipping boundaries should be such that
exactly half an independent pixel should exceed it if the map were
source free. A rigid boundary of 3 sigma is appropriate only if the
number of independent pixels is about 185 (the number of
independent pixels equals the number of pixels divided by the
beamsize in pixels).</p>
<p>The condition that kappa, sigma clipping may not bias the noise is
translated in the formula below, using Gaussian statistics. A
disadvantage of this is that more iterations of kappa, sigma
clipping are needed, compared to 3 sigma clipping. However, the
noise values derived are generally significantly different (lower)
compared to 3 sigma clipping.</p>
</dd></dl>

<dl class="function">
<dt id="tkp.sourcefinder.stats.var_helper">
<tt class="descclassname">tkp.sourcefinder.stats.</tt><tt class="descname">var_helper</tt><big>(</big><em>N</em><big>)</big><a class="reference internal" href="../../../_modules/tkp/sourcefinder/stats.html#var_helper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tkp.sourcefinder.stats.var_helper" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct for the fact the rms noise is computed from a clipped
distribution.</p>
<p>That noise will always be lower than the noise from the complete
distribution.  The correction factor is a function of the computed
rms noise only.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/lofar.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="fitting.html"
                        title="previous chapter"><tt class="docutils literal"><span class="pre">tkp.sourcefinder.fitting</span></tt> &#8211; Source fitting routines</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="utils.html"
                        title="next chapter"><tt class="docutils literal"><span class="pre">tkp.sourcefinder.utils</span></tt> &#8211; Utility routines</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/devref/tkp/sourcefinder/stats.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utils.html" title="tkp.sourcefinder.utils – Utility routines"
             >next</a> |</li>
        <li class="right" >
          <a href="fitting.html" title="tkp.sourcefinder.fitting – Source fitting routines"
             >previous</a> |</li>
        <li><a href="../../../index.html">LOFAR Transients Pipeline 2.0-pre documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Developer&#8217;s Reference Guide</a> &raquo;</li>
          <li><a href="../index.html" >TKP Package Reference</a> &raquo;</li>
          <li><a href="index.html" >Sourcefinder package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006—2014, LOFAR Transients Key Science Project.
    </div>
  </body>
</html>