<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation &mdash; LOFAR Transients Pipeline 2.0-pre documentation</title>
    
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0-pre',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/lofar.ico"/>
    <link rel="top" title="LOFAR Transients Pipeline 2.0-pre documentation" href="../index.html" />
    <link rel="up" title="Getting Started" href="index.html" />
    <link rel="next" title="Concepts" href="concepts/index.html" />
    <link rel="prev" title="Getting Started" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="concepts/index.html" title="Concepts"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Getting Started"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">LOFAR Transients Pipeline 2.0-pre documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Getting Started</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="installation">
<span id="id1"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>To install the TraP you must:</p>
<ol class="arabic simple">
<li>Install and configure a suitable back-end database;</li>
<li>Optionally, install and configure <a class="reference external" href="http://www.mongodb.org/">MongoDB</a>
as a <a class="reference internal" href="concepts/mongodb.html#mongodb-intro"><em>pixel store</em></a>;</li>
<li>Optionally, install a <a class="reference internal" href="../userref/config/celeryconfig_py.html#celery-intro"><em>Celery</em></a> broker;</li>
<li>Install the core pipeline dependencies;</li>
<li>Build and install the TraP itself.</li>
</ol>
<p>Some details on each of these steps is provided below.</p>
<p>Note, though, that the overall procedure is complex, and correctly configuring
all the various components can be difficult. It is possible instead to use
<a class="reference external" href="http://www.vagrantup.com/">Vagrant</a> to quickly and easily set up a virtual
machine which provides a fully configured and working ready-to-go pipeline and
supporting tools. This is a quick and easy way to get up and running for
testing purposes or when simplicity is preferable to ultimately high
performance. Refer to the <a class="reference external" href="https://github.com/transientskp/vagrant_trap">Vagrant TraP</a> repository for details and
instructions.</p>
<div class="section" id="back-end-database">
<h2>Back-end Database<a class="headerlink" href="#back-end-database" title="Permalink to this headline">¶</a></h2>
<p>The TraP supports two database management systems for use as the
<a class="reference internal" href="concepts/database.html#database-intro"><em>pipeline database</em></a>: <a class="reference external" href="http://www.monetdb.org/">MonetDB</a> and <a class="reference external" href="http://www.postgresql.org/">PostgreSQL</a>.
Both are available for common operating systems and package managers: pick one
and install it.</p>
<p>A complete description of configuring your database management system is
beyond the scope of this guide: refer to its documentation for details. Some
brief notes on things to look out for follow.</p>
<div class="section" id="id2">
<h3>PostgreSQL<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Ensure that the access rights to your server are set appropriately, for
example to trust connections from whichever machine(s) will be used to run the
TraP. This is done by editing <tt class="docutils literal"><span class="pre">pg_hba.conf</span></tt>.</p>
</div>
<div class="section" id="id3">
<h3>MonetDB<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>To be able to administer MonetDB databases, you need to be a member of the
<tt class="docutils literal"><span class="pre">monetdb</span></tt> group.</p>
<p>To issue remote management commands, such as database creation, you need to
both enable this functionality and set a passphrase:</p>
<div class="highlight-python"><div class="highlight"><pre>monetdbd set control=yes ${dbfarm}
monetdbd set passphrase=${myphassphrase} ${dbfarm}
</pre></div>
</div>
</div>
</div>
<div class="section" id="pixel-store">
<h2>Pixel Store<a class="headerlink" href="#pixel-store" title="Permalink to this headline">¶</a></h2>
<p>Optionally, the pixel contents of all images processed (but not the metadata)
can be saved to a <a class="reference external" href="http://www.mongodb.org/">MongoDB</a> database for future
reference (e.g. via the <a class="reference external" href="https://github.com/transientskp/banana">Banana</a> web
interface). This naturally requires that a MongoDB daemon is installed and
configured to accept requests from TraP clients.</p>
</div>
<div class="section" id="celery-broker">
<h2>Celery Broker<a class="headerlink" href="#celery-broker" title="Permalink to this headline">¶</a></h2>
<p>It is possible to run the TraP without a <a class="reference internal" href="../userref/config/celeryconfig_py.html#celery-intro"><em>Celery</em></a> broker,
but it can only run in a serial, non-distributed fashion. Multiple different
options for Celery brokers are available; refer to the Celery documentation
for details. We have had success with <a class="reference external" href="http://www.rabbitmq.com/">RabbitMQ</a>.</p>
</div>
<div class="section" id="core-dependencies">
<h2>Core Dependencies<a class="headerlink" href="#core-dependencies" title="Permalink to this headline">¶</a></h2>
<p>To build the TraP, you will need:</p>
<ul class="simple">
<li>C++ and Fortran compilers (tested with <a class="reference external" href="http://gcc.gnu.org/">GCC</a>)</li>
<li><a class="reference external" href="http://www.cmake.org/">CMake</a></li>
<li><a class="reference external" href="https://www.gnu.org/software/make/">GNU Make</a></li>
<li><a class="reference external" href="https://www.python.org/">Python</a> (2.7.x series <em>only</em>, including header files)</li>
<li><a class="reference external" href="http://www.numpy.org/">NumPy</a> (at least version 1.3.0)</li>
<li><a class="reference external" href="http://www.boost.org/doc/libs/release/libs/python/doc/">Boost Python</a></li>
<li><a class="reference external" href="http://www.atnf.csiro.au/people/mcalabre/WCS/">WCSLIB</a></li>
</ul>
<p>In addition to the above, to run the TraP you will need:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.scipy.org/">SciPy</a> (at least version 0.7.0)</li>
<li><a class="reference external" href="http://www.celeryproject.org/">Celery</a> (at least version 3.0)</li>
<li><a class="reference external" href="http://labix.org/python-dateutil">python-dateutil</a> (at least version 1.4.1)</li>
<li><a class="reference external" href="https://code.google.com/p/pyrap/">pyrap</a> and
<a class="reference external" href="https://code.google.com/p/casacore/">casacore</a> (including measures data)</li>
</ul>
<p>To work with the pipeline database, you will need at least one of:</p>
<ul class="simple">
<li><a class="reference external" href="https://pypi.python.org/pypi/python-monetdb">python-monetdb</a> (for MonetDB)</li>
<li><a class="reference external" href="http://initd.org/psycopg/">psycopg2</a> (for PostgreSQL)</li>
</ul>
<p>To work with the <a class="reference internal" href="concepts/mongodb.html#mongodb-intro"><em>pixel store</em></a> you will need:</p>
<ul class="simple">
<li><a class="reference external" href="http://api.mongodb.org/python/current/">PyMongo</a></li>
</ul>
<p>Most of these dependencies should be easily satisfied by operating
system-level package management or through the <a class="reference external" href="https://pypi.python.org/pypi">Python Package Index</a>, and we strongly suggest you take advantage
of that convenience rather than building everything from source. The most
notable exceptions are pyrap and casacore: these are not commonly packaged in
mainstream distributions. They can be compiled from source, or users of
Ubuntu-based distributions might find the <a class="reference external" href="https://launchpad.net/~ska-sa">SKA South Africa Launchpad page</a> useful.</p>
</div>
<div class="section" id="build-and-install">
<h2>Build and Install<a class="headerlink" href="#build-and-install" title="Permalink to this headline">¶</a></h2>
<p>Once all dependencies have been satisfied, building should be
straightforward:</p>
<div class="highlight-python"><div class="highlight"><pre>$ git clone https://github.com/transientskp/tkp.git
$ mkdir tkp/build
$ cmake ..
$ make
$ sudo make install
</pre></div>
</div>
<p>Following installation, including setting up and configuring the database,
follow the <a class="reference internal" href="../devref/testing.html#testing"><em>test procedure</em></a> to ensure that everything is
working and ready for use.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/lofar.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#back-end-database">Back-end Database</a><ul>
<li><a class="reference internal" href="#id2">PostgreSQL</a></li>
<li><a class="reference internal" href="#id3">MonetDB</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pixel-store">Pixel Store</a></li>
<li><a class="reference internal" href="#celery-broker">Celery Broker</a></li>
<li><a class="reference internal" href="#core-dependencies">Core Dependencies</a></li>
<li><a class="reference internal" href="#build-and-install">Build and Install</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Getting Started</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="concepts/index.html"
                        title="next chapter">Concepts</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/getstart/installation.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="concepts/index.html" title="Concepts"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Getting Started"
             >previous</a> |</li>
        <li><a href="../index.html">LOFAR Transients Pipeline 2.0-pre documentation</a> &raquo;</li>
          <li><a href="index.html" >Getting Started</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011—2014, LOFAR Transients Key Science Project.
    </div>
  </body>
</html>