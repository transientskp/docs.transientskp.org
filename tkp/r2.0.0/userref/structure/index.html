<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Pipeline Design &mdash; LOFAR Transients Pipeline 2.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/lofar.ico"/>
    <link rel="top" title="LOFAR Transients Pipeline 2.0.0 documentation" href="../../index.html" />
    <link rel="up" title="User’s Reference Guide" href="../index.html" />
    <link rel="next" title="Persistence stage" href="stages/persistence.html" />
    <link rel="prev" title="celeryconfig.py - Task distribution via Celery" href="../config/celeryconfig_py.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stages/persistence.html" title="Persistence stage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../config/celeryconfig_py.html" title="celeryconfig.py - Task distribution via Celery"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">LOFAR Transients Pipeline 2.0.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">User&#8217;s Reference Guide</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pipeline-design">
<span id="trap-design"></span><h1>Pipeline Design<a class="headerlink" href="#pipeline-design" title="Permalink to this headline">¶</a></h1>
<p>This section presents an overview of the fundamental algorithms used by, and
data flow through, the TraP. It is designed such that everyday users have a
full understanding of how their data is being processed.
Note that the top-level logic is defined in <a class="reference internal" href="../../devref/tkp/main.html#module-tkp.main" title="tkp.main"><tt class="xref py py-mod docutils literal"><span class="pre">tkp.main</span></tt></a>, further
implementation details for specific sub-sections may be found in the
<a class="reference internal" href="../../devref/index.html#devref"><em>Developer&#8217;s Reference Guide</em></a>.</p>
<p>As images flow through the TraP, they are processed by a series of distinct
pipeline components, or &#8220;stages&#8221;. Each stage consists of Python logic,
often interfacing with the pipeline database.</p>
<p>A complete description of the logical design of the TraP is beyond the scope
of this document. Instead, the reader is referred to an upcoming publication
by <a class="reference internal" href="../../bibliography.html#swinbank-2014"><em>Swinbank et al</em></a>. Here, we sketch only an outline of
the various pipeline stages.</p>
<div class="section" id="pipeline-topology-and-code-re-use">
<h2>Pipeline topology and code re-use<a class="headerlink" href="#pipeline-topology-and-code-re-use" title="Permalink to this headline">¶</a></h2>
<p>An early design goal of the TraP was that the various stages should be easily
re-usable in different pipeline topologies. That is, rather than simply
relying on &#8220;the&#8221; TraP, users should be able to mix-and-match pipeline
components to pursue their own individual science goals. This mode of
operation is not well supported by the current TraP, but some effort is made
to ensure that stages can operate as independent entities</p>
</div>
<div class="section" id="image-ordering-and-reproducibility">
<h2>Image ordering and reproducibility<a class="headerlink" href="#image-ordering-and-reproducibility" title="Permalink to this headline">¶</a></h2>
<p>The material below describes each of the stages an image goes through as it is
processed through the pipeline. It is important to realise, though, that the
order in which images are processed is important due to the way in which
lightcurves are generated within the database: see the material on
<a class="reference internal" href="stages/association.html#stage-association"><em>Source association stage</em></a> for details. Reproducibility of pipeline results is
of paramount importance: the TraP guarantees that results will be reproducible
provided that images are always processed <em>in order of time</em>. That is, an
image from time <span class="math">\(t_n\)</span> must always be processed before an image from time
<span class="math">\(t_{n+1}\)</span>. In order to satisfy this condition, the TraP will internally
re-order images provided to it in the <a class="reference internal" href="../config/overview.html#config-job"><em>images_to_process.py file</em></a> so that they are in time order. <em>If multiple TraP runs are to be
combined in a single dataset, the user must ensure that the runs are in an
appropriate sequence.</em></p>
</div>
<div class="section" id="configuration-and-startup">
<h2>Configuration and startup<a class="headerlink" href="#configuration-and-startup" title="Permalink to this headline">¶</a></h2>
<p>The pipeline configuration and job management system is described under
<a class="reference internal" href="../config/index.html#config"><em>Pipeline Configuration</em></a>.</p>
</div>
<div class="section" id="pipeline-stages">
<span id="stages"></span><h2>Pipeline stages<a class="headerlink" href="#pipeline-stages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="stages/persistence.html">Persistence stage</a></li>
<li class="toctree-l1"><a class="reference internal" href="stages/quality.html">Quality check stage</a></li>
<li class="toctree-l1"><a class="reference internal" href="stages/extraction.html">&#8220;Blind&#8221; source extraction stage</a></li>
<li class="toctree-l1"><a class="reference internal" href="stages/association.html">Source association stage</a></li>
<li class="toctree-l1"><a class="reference internal" href="stages/forcedfits.html">Forced source-fitting stage</a></li>
<li class="toctree-l1"><a class="reference internal" href="stages/transient.html">Variability and new-source detection stage</a></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/lofar.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Pipeline Design</a><ul>
<li><a class="reference internal" href="#pipeline-topology-and-code-re-use">Pipeline topology and code re-use</a></li>
<li><a class="reference internal" href="#image-ordering-and-reproducibility">Image ordering and reproducibility</a></li>
<li><a class="reference internal" href="#configuration-and-startup">Configuration and startup</a></li>
<li><a class="reference internal" href="#pipeline-stages">Pipeline stages</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../config/celeryconfig_py.html"
                        title="previous chapter"><tt class="docutils literal"><span class="pre">celeryconfig.py</span></tt> - Task distribution via Celery</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="stages/persistence.html"
                        title="next chapter">Persistence stage</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/userref/structure/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stages/persistence.html" title="Persistence stage"
             >next</a> |</li>
        <li class="right" >
          <a href="../config/celeryconfig_py.html" title="celeryconfig.py - Task distribution via Celery"
             >previous</a> |</li>
        <li><a href="../../index.html">LOFAR Transients Pipeline 2.0.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >User&#8217;s Reference Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006—2015, LOFAR Transients Key Science Project.
    </div>
  </body>
</html>